        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; overscroll-behavior: none; }
        ::-webkit-scrollbar { display: none; }

        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        #sidebar { transition: transform 0.3s ease-in-out; }
        #full-player { transition: transform 0.3s ease-in-out; will-change: transform; }
        #mini-player { transition: transform 0.3s ease-in-out, opacity 0.3s; will-change: transform, opacity; }

        .page { display: none; }
        .page.active { display: block; }

        #player-video-container { width: 100%; max-width: 640px; margin: 0 auto; position: relative; background: #000; border-radius: .5rem; overflow: hidden; height: 0; padding-top: 56.25%; }
        #player-video-container iframe, #player-video-container > div { position: absolute !important; top: 0; left: 0; width: 100% !important; height: 100% !important; border: 0; display: block; }
        
        #player-video-container:fullscreen { padding-top: 0; height: 100%; width: 100%; max-width: 100%; border-radius: 0; }
        #player-video-container:-webkit-full-screen { padding-top: 0; height: 100%; width: 100%; max-width: 100%; border-radius: 0; }
        
        #player-iframe-wrapper { position: absolute; left: -9999px; top: -9999px; width: 1px; height: 1px; overflow: hidden; pointer-events: none; }

        .modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: flex; align-items: center; justify-content: center; z-index: 60; }
        .modal { background: #0f1724; color: white; padding: 1rem; border-radius: .5rem; width: 360px; max-width: calc(100% - 32px); }
        .modal h3 { margin-bottom: .5rem; }

        .toast { position: fixed; right: 16px; bottom: 16px; background: rgba(17,24,39,0.95); color: white; padding: 10px 14px; border-radius: 8px; z-index: 70; box-shadow: 0 6px 18px rgba(2,6,23,0.6); }

        .marquee-container { overflow: hidden; white-space: nowrap; width: 100%; }
        .marquee-text { display: inline-block; padding-left: 100%; animation: marquee 10s linear infinite; }
        .marquee-text-mini { display: inline-block; padding-left: 100%; animation: marquee 8s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        .item-delete-btn { padding: 4px; border-radius: 99px; background-color: rgba(75, 85, 99, 0.7); margin-left: auto; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
        .item-delete-btn:hover { background-color: rgba(239, 68, 68, 0.8); }
        .item-delete-btn svg { width: 1.25rem; height: 1.25rem; }
       
        #playlist-header { height: 300px; position: relative; background-size: cover; background-position: center; transition: height 0.3s ease-out; }
        #playlist-header::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to top, rgba(15, 23, 36, 1) 5%, rgba(15, 23, 36, 0.4) 50%, rgba(15, 23, 36, 0) 100%); }
        #playlist-info { position: absolute; bottom: 0; left: 0; right: 0; padding: 1rem; z-index: 10; }
        #playlist-sticky-header { position: sticky; top: 0; z-index: 20; background-color: rgba(15, 23, 36, 0.8); backdrop-filter: blur(10px); padding: 1rem; display: flex; align-items: center; transition: opacity 0.3s ease-out, transform 0.3s ease-out; opacity: 0; transform: translateY(-100%); }
        #page-playlist-details.scrolled #playlist-sticky-header { opacity: 1; transform: translateY(0); }
        #page-playlist-details.scrolled #playlist-header { height: 100px; }

        /* === ESTILOS MEJORADOS PARA BARRA DE PROGRESO === */
        #player-progress-bar {
            --progress-percent: 0%;
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
            cursor: pointer;
            height: 16px; /* Aumenta el área de toque */
        }
        #player-progress-bar::-webkit-slider-runnable-track {
            height: 4px;
            border-radius: 2px;
            background: linear-gradient(to right, #fff var(--progress-percent), rgba(255, 255, 255, 0.3) var(--progress-percent));
            transition: background 0.2s linear;
        }
        #player-progress-bar::-webkit-slider-thumb {
            -webkit-appearance: none;
            margin-top: -6px;
            width: 16px;
            height: 16px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 4px rgba(0,0,0,0.5);
        }
        #player-progress-bar:focus { outline: none; }
        
        #player-queue-panel { position: absolute; bottom: 0; left: 0; right: 0; height: 65%; background: rgba(17, 24, 39, 0.9); backdrop-filter: blur(10px); border-top-left-radius: 1.5rem; border-top-right-radius: 1.5rem; transform: translateY(100%); transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
            /* ==== INICIO DE CAMBIO (CSS) ==== */
            z-index: 20; /* Aumentamos z-index para que esté sobre el contenido (z-10) */
            /* ==== FIN DE CAMBIO (CSS) ==== */
            display: flex; flex-direction: column; 
        }
        #player-queue-panel.visible { transform: translateY(0); }
        #player-queue-handle { padding: 0.5rem; text-align: center; cursor: s-resize; flex-shrink: 0; touch-action: none; } /* touch-action: none es clave para el gesto */
  